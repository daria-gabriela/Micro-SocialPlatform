@model MicroSocialPlatform.Models.Post

<div class="card-header">
    <h5 class="card-title">@Model.User?.UserName</h5>
</div>
<div class="card-body">
    @if (!string.IsNullOrEmpty(Model.Image))
    {
        var isImage = Model.Image.EndsWith(".jpg", StringComparison.OrdinalIgnoreCase) ||
        Model.Image.EndsWith(".jpeg", StringComparison.OrdinalIgnoreCase) ||
        Model.Image.EndsWith(".png", StringComparison.OrdinalIgnoreCase) ||
        Model.Image.EndsWith(".gif", StringComparison.OrdinalIgnoreCase);

        var isVideo = Model.Image.EndsWith(".mp4", StringComparison.OrdinalIgnoreCase) ||
        Model.Image.EndsWith(".webm", StringComparison.OrdinalIgnoreCase) ||
        Model.Image.EndsWith(".ogg", StringComparison.OrdinalIgnoreCase);

        if (isImage)
        {
            <img src="@Model.Image" class="card-img-top" alt="Post Image" style="width: 100%; height: 450px; object-fit: contain" />
        }
        else if (isVideo)
        {
            <video controls style="width: 100%; height: 450px; object-fit: contain">
                <source src="@Model.Image" type="video/mp4">
                <source src="@Model.Image" type="video/webm">
                <source src="@Model.Image" type="video/ogg">
                Your browser does not support the video tag.
            </video>
        }
    }
    <br />
    <p class="card-text">@Model.Content</p>
    <p class="card-text">
        <small class="text-muted">@Model.Date.ToString("g")</small>
    </p>
</div>
